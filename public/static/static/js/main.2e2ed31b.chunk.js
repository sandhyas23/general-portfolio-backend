(this["webpackJsonpportfolio-sandhya"]=this["webpackJsonpportfolio-sandhya"]||[]).push([[0],{225:function(e,t,a){e.exports=a.p+"static/media/default.17d95c21.jpg"},316:function(e,t,a){e.exports=a(662)},321:function(e,t,a){},643:function(e,t){},662:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),c=a.n(r),i=(a(321),a(7)),l=a(13),s=a.n(l),m=a(19),u=a(9),d=a(695),p=a(697),f=a(714),g=a(696),h=a(692),b=a(301),y=a(707),j=a(716),E=a(702),k=a(666),v=a(289),O=a(92),C=a(293),N=a(701),x=a(136),S=a.n(x),w=a(23),T=a.n(w),A=a(29),I=a(709),_=a(34),P=a(710),L=a(713),B=a(712),W=a(711),J=a(694),M=a(722),U=a(698),D=a(699),z=a(193),G=a(724),F=a(700),V=a(197),H=a(201),q=a(723),R=a(708),Y=a(195),K=a(705),X=a(704),$=a(706),Q=Object(h.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%",height:200},cardContent:{flexGrow:1},flexContainer:{display:"flex",flexDirection:"row",padding:0},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},appBar:{margin:e.spacing(0,0,3,0),flexWrap:"wrap"},formControl:{margin:e.spacing(3),minWidth:120,"& .MuiTextField-root":{margin:e.spacing(1)}}}})),Z=function(e){var t=Q(),r=Object(n.useState)([]),c=Object(i.a)(r,2),l=c[0],f=c[1],h=Object(n.useState)([]),b=Object(i.a)(h,2),j=b[0],E=b[1],k=Object(n.useState)("all"),v=Object(i.a)(k,2),O=v[0],C=v[1],N=Object(n.useState)(!1),x=Object(i.a)(N,2),S=x[0],w=x[1],Z=Object(n.useState)("add"),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),oe=Object(i.a)(ne,2),re=oe[0],ce=oe[1],ie=Object(n.useState)(""),le=Object(i.a)(ie,2),se=le[0],me=le[1],ue=Object(n.useState)(""),de=Object(i.a)(ue,2),pe=de[0],fe=de[1],ge=Object(n.useState)(!1),he=Object(i.a)(ge,2),be=he[0],ye=he[1],je=Object(n.useState)("add"),Ee=Object(i.a)(je,2),ke=Ee[0],ve=Ee[1],Oe=Object(n.useState)({title:"",url:"",description:"",category:[],_id:null}),Ce=Object(i.a)(Oe,2),Ne=Ce[0],xe=Ce[1],Se=Object(n.useState)(null),we=Object(i.a)(Se,2),Te=we[0],Ae=we[1];function Ie(){return(Ie=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/work/categories",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,f(a.categories);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/work/projects",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("data got in project",a),E(a.work);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){Ie.apply(this,arguments)}(),_e()}),[]);var Le=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/work/projects/"+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,E(n.work.projects);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"all"===t?(_e(),C("all")):(Le(t),C(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e,t,a){if("category"===e)w(!0);else if("project"===e){if("add"===t)ve("add");else if("edit"===t){ve("edit"),console.log("rpoekect details:",a);var n=[];a.category.forEach((function(e,t,a){var o=l.find((function(t){return e===t._id}));void 0!==o&&n.push(o.name)})),xe({title:a.title,url:a.url,description:a.description,category:n,_id:a._id})}else"delete"===t&&(ve("delete"),xe({_id:a._id}));ye(!0)}},Je=function(e){"category"===e?(ae("add"),me(""),ce(""),w(!1)):"project"===e&&(ye(!1),xe({title:"",url:"",description:"",category:[]}),Ae(null),"edit"!==ke&&"delete"!==ke||Be(O)),fe("")},Me=function(e,t){"edit"===e?me(t.target.value):ce(t.target.value)},Ue=function(e){console.log("event change in project add",e.target.name,e.target.value),xe(Object(_.a)(Object(_.a)({},Ne),{},Object(u.a)({},e.target.name,e.target.value)))},De=function(e){var t=new FormData;t.append("workImage",Te),fetch("/work/upload/"+e,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){t.success?ze(e,"true"):alert(t.message)}))},ze=function(e,t){fetch("/work/image/"+e,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({image:t})}).then((function(a){a.json().then((function(a){var n=j.findIndex((function(t,a,n){return t._id===e}));j[n].image=a.image,"false"===t&&fe("Image changed to default pic")}))}))};return o.a.createElement(J.a,{className:t.cardGrid,maxWidth:"md"},o.a.createElement(d.a,{position:"static",color:"default",className:t.appBar},o.a.createElement("nav",null,o.a.createElement(g.a,{variant:"button",color:"all"===O?"secondary":"primary",onClick:function(){return Be("all")},className:t.link},"all"),l.map((function(e,a,n){return o.a.createElement(g.a,{key:"category".concat(e.name),variant:"button",name:e.menu,color:O===e.name?"secondary":"primary",onClick:function(){return Be(e.name)},className:t.link},e.name)})),e.isAdmin?o.a.createElement(p.a,{"aria-haspopup":"true",color:"primary",variant:"outlined",className:t.link,onClick:function(){return We("category")}},"change category details here!"):null),e.isAdmin?o.a.createElement(p.a,{"aria-haspopup":"true",color:"primary",variant:"outlined",className:t.link,onClick:function(){return We("project","add")}},"add new project"):null,o.a.createElement(U.a,{onClose:function(){return Je("category")},"aria-labelledby":"simple-dialog-title",open:S},o.a.createElement(D.a,{id:"simple-dialog-title"},"Change Category details"),o.a.createElement(z.a,{className:t.formControl},"Choose an option"),o.a.createElement(G.a,{name:"category option","aria-label":"category option",value:te,onChange:function(e){ae(e.target.value),me(""),ce(""),fe("")},className:t.formControl,row:!0},["add","edit","delete"].map((function(e){return o.a.createElement(F.a,{key:e,value:e,control:o.a.createElement(M.a,null),label:e.charAt(0).toUpperCase()+e.slice(1)})}))),"add"===te?o.a.createElement("div",{className:t.formControl},o.a.createElement(T.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"category",label:"Category",name:"categoryName",value:re,onChange:function(e){return Me("add",e)},autoFocus:!0}),o.a.createElement(p.a,{color:"primary",variant:"outlined",onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/work/categories",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({category:re})}).then((function(e){e.json().then((function(e){e.success&&l.push(e.category),fe(e.message),me(""),ce("")}))}))},disabled:re.length<1},"add")):o.a.createElement("div",{className:t.formControl},o.a.createElement(V.a,{htmlFor:"category-native-simple"},"Category"),o.a.createElement(H.a,{native:!0,value:re,onChange:function(e){return Me("add",e)}},l.map((function(e,t,a){return o.a.createElement("option",{key:"cat".concat(e.name).concat(t),value:e.name},e.name)}))),"edit"===te?o.a.createElement("div",null,o.a.createElement(T.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"category",label:"New category name",name:"newCategoryName",value:se,onChange:function(e){return Me("edit",e)},autoFocus:!0}),o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/work/categories/"+re,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({newCategory:se})}).then((function(e){e.json().then((function(e){if(e.success){var t=l.findIndex((function(e,t,a){return e.name===re}));l[t].name=e.work.name}fe(e.message),me(""),ce("")}))}))},disabled:se.length<1},"edit")):o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/work/category"+re,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({category:re})}).then((function(e){e.json().then((function(e){if(e.success){var t=l.findIndex((function(t,a,n){return t.name===e.deletedCategory.name}));l.splice(t,1)}fe(e.message),me(""),ce("")}))}))}},"delete")),o.a.createElement(A.a,{align:"center",gutterBottom:!0,color:"secondary"},pe)),o.a.createElement(U.a,{open:be,onClose:function(){return Je("project")}},o.a.createElement(D.a,{id:"simple-dialog-title"},"add"===ke?"Add a new project":"edit"===ke?"Change project details":"Delete Project"),"delete"===ke?o.a.createElement("div",null,o.a.createElement(X.a,null,o.a.createElement(K.a,{id:"alert-dialog-description"},"Are you sure you want to delete this project?")),o.a.createElement($.a,null,o.a.createElement(p.a,{onClick:function(){return Je("project")},color:"primary"},"No"),o.a.createElement(p.a,{onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/work/deleteProject/"+Ne._id,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){e.json().then((function(e){if(e.success){var t=j.findIndex((function(t,a,n){return t._id===e.deletedProject._id}));j.splice(t,1)}})),Je("project")}))},color:"primary",autoFocus:!0},"Yes"))):"add"===ke||"edit"===ke?o.a.createElement("div",null,o.a.createElement("form",{className:t.formControl,noValidate:!0,autoComplete:"off"},o.a.createElement("div",null,o.a.createElement(T.a,{id:"standard-required",label:"Title",name:"title",value:Ne.title,onChange:Ue}),o.a.createElement(T.a,{id:"standard-disabled",label:"url",name:"url",value:Ne.url,onChange:Ue}),o.a.createElement(T.a,{margin:"normal",label:"Description",fullWidth:!0,name:"description",id:"description",value:Ne.description,rows:2,rowsMax:4,multiline:!0,onChange:Ue}),o.a.createElement(V.a,{id:"demo-mutiple-checkbox-label"},"Categories"),o.a.createElement(H.a,{labelId:"demo-mutiple-checkbox-label",fullWidth:!0,id:"demo-mutiple-checkbox",multiple:!0,name:"category",value:Ne.category,onChange:Ue,renderValue:function(e){return e.join(", ")},input:o.a.createElement(Y.a,null)},l.map((function(e,t,a){return o.a.createElement(y.a,{key:"checkCat".concat(e.name).concat(t),value:e.name},o.a.createElement(q.a,{checked:Ne.category.indexOf(e.name)>-1}),o.a.createElement(R.a,{primary:e.name}))}))),o.a.createElement(V.a,{style:{paddingTop:5}},"Choose image for thumbnail"),o.a.createElement("input",{type:"file",accept:"image/*",name:"imageFile",className:t.link,onChange:function(e){Ae(e.target.files[0])}}),"edit"===ke?o.a.createElement(p.a,{color:"primary",onClick:function(){return ze(Ne._id,"false")}},"Upload the default image"):null),o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){return t=ke,void(null===e.user?alert("Login to perform this action!"):"add"===t?fetch("/work/addProject",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({category:Ne.category,title:Ne.title,url:Ne.url,description:Ne.description})}).then((function(e){e.json().then((function(e){e.success&&(null!==Te&&De(e.project._id),j.push(e.project)),fe(e.message),xe({title:"",url:"",description:"",category:[]})}))})):"edit"===t&&fetch("/work/editProject/"+Ne._id,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({category:Ne.category,title:Ne.title,url:Ne.url,description:Ne.description})}).then((function(e){e.json().then((function(e){if(e.success){console.log("in put: ",e),null!==Te&&De(Ne._id);var t=j.findIndex((function(e,t,a){return e._id===Ne._id}));j[t]=e.project}fe(e.message),xe({title:"",url:"",description:"",category:[]})}))})));var t},disabled:Ne.category.length<1},"save this project")),o.a.createElement(A.a,{align:"center",gutterBottom:!0,color:"secondary"},pe)):null)),o.a.createElement(I.a,{container:!0,spacing:4},j.map((function(n,r,c){return o.a.createElement(I.a,{item:!0,key:"grid".concat(n.title).concat(r),xs:12,sm:6,md:4},o.a.createElement(P.a,{className:t.card,key:"card".concat(n.title).concat(r)},o.a.createElement(W.a,{key:"cardMedia".concat(n.title).concat(r),className:t.cardMedia,image:n.image?"http://localhost:3000/static/media/project".concat(n._id,".jpg"):a(225),title:"Image title"}),o.a.createElement(B.a,{className:t.cardContent},void 0!==n.title?o.a.createElement(A.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.title):null,void 0!==n.url?o.a.createElement(g.a,{gutterBottom:!0,component:"a"},n.url):null,void 0!==n.description?o.a.createElement(A.a,null,n.description):null),e.isAdmin?o.a.createElement(L.a,null,o.a.createElement(p.a,{size:"small",color:"primary",onClick:function(){return We("project","edit",n)}},"edit"),o.a.createElement(p.a,{size:"small",color:"primary",onClick:function(){return We("project","delete",n)}},"delete")):null))}))))};O.b.add(C.a);var ee=Object(h.a)((function(e){return{flexContainer:{display:"flex",flexDirection:"row",padding:0},form:{width:"75%",marginTop:e.spacing(1),marginLeft:e.spacing(5)},link:{margin:e.spacing(1,1.5)}}})),te=function(e){var t=ee(),a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],l=r[1],d=Object(n.useState)(null),f=Object(i.a)(d,2),h=f[0],b=f[1],j=Object(n.useState)({}),O=Object(i.a)(j,2),C=O[0],x=O[1],w=Object(n.useState)({}),_=Object(i.a)(w,2),P=_[0],L=_[1];function B(){return(B=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/socialMedia",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.socialMedia);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){B.apply(this,arguments)}()}),[]);var W=function(t){if(null===e.user)alert("Login to perform this action!");else{var a=t.target.name,n=c.findIndex((function(e,a,n){return e.iconName===t.target.name}));c[n].display=t.target.checked,l(c),x(Object(u.a)({},t.target.name,t.target.checked)),fetch("/socialMedia/display/"+t.target.name,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(u.a)({},a,t.target.checked.toString()))}).then((function(e){e.json().then((function(e){}))}))}},J=function(e){var t;L((t={},Object(u.a)(t,e.target.name,!0),Object(u.a)(t,"link",e.target.value),t))},M=function(e){var t;L((t={},Object(u.a)(t,e.target.name,!1),Object(u.a)(t,"link",e.target.value),t))};return o.a.createElement("div",null,o.a.createElement(E.a,{position:"fixed",className:t.flexContainer},c.map((function(e,t,a){return e.display?o.a.createElement(k.a,{key:"listItem".concat(e.iconName)},o.a.createElement("a",{href:e.link,target:"_blank"},o.a.createElement(v.a,{icon:["fab","".concat(e.iconName.toLowerCase())],size:"2x",color:"pinterest"===e.iconName||"youTube"===e.iconName?"red":"gitHub"===e.iconName?"black":"steelblue"}))):null}))),e.isAdmin?o.a.createElement("div",null,o.a.createElement(p.a,{"aria-haspopup":"true",color:"primary",variant:"outlined",onClick:function(e){b(e.currentTarget)},className:t.link},"change social media display!"),o.a.createElement(N.a,{id:"simple-menu",anchorEl:h,open:Boolean(h),onClose:function(){b(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"}},"  ",c.map((function(a,n,r){return o.a.createElement(y.a,{key:"socialMedia".concat(a.iconName).concat(n)},o.a.createElement(I.a,{container:!0,spacing:10},o.a.createElement(I.a,{item:!0,xs:2,sm:2,md:2},a.iconName),o.a.createElement(I.a,{item:!0,xs:1,sm:1,md:1},o.a.createElement(S.a,{checked:C[a.iconName]||a.display,onChange:W,color:"primary",name:a.iconName,inputProps:{"aria-label":"primary checkbox"}})),o.a.createElement(I.a,{item:!0,xs:6,sm:6,md:6},P[a.iconName]?o.a.createElement("div",null,o.a.createElement(T.a,{margin:"normal",fullWidth:!0,name:a.iconName,value:P.link,id:"link",autoComplete:"message",onChange:J}),o.a.createElement(g.a,{href:"#",color:"primary",className:t.link,onClick:function(){return function(t){if(null===e.user)alert("Login to perform this action!");else{var a=c.findIndex((function(e,a,n){return e.iconName===t.iconName}));c[a].link=P.link,l(c),fetch("/socialMedia/link/"+t.iconName,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(u.a)({},t.iconName,P.link))}).then((function(e){e.json().then((function(e){var a;L((a={},Object(u.a)(a,t.iconName,!1),Object(u.a)(a,"link",P.link),a))}))}))}}(a)}},"save"),o.a.createElement(g.a,{href:"#",color:"primary",className:t.link,onClick:M},"cancel")):o.a.createElement("div",null,o.a.createElement(A.a,{component:"span",align:"left",gutterBottom:!0},a.link),o.a.createElement(g.a,{href:"#",color:"primary",className:t.link,onClick:function(){return function(e){var t;L((t={},Object(u.a)(t,e.iconName,!0),Object(u.a)(t,"link",e.link),t))}(a)}},"edit link")))))})))):null)},ae=a(715),ne=a(725),oe=Object(h.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:Object(u.a)({borderBottom:"1px solid",height:95},e.breakpoints.down("sm"),{height:200}),smallAppBar:Object(u.a)({borderBottom:"1px solid",height:70},e.breakpoints.down("sm"),{height:200}),toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)}}})),re=function(e){var t=oe(),a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],l=r[1],h=Object(n.useState)(null),E=Object(i.a)(h,2),k=E[0],v=E[1],O=Object(n.useState)({}),C=Object(i.a)(O,2),N=C[0],x=C[1],S=Object(n.useState)(null),w=Object(i.a)(S,2),T=w[0],A=w[1];function I(){return(I=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/menu",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("data got in menu",a.menu),l(a.menu);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){fetch("/login/secret",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),t.success){var a=JSON.parse(t.User);console.log("this is what we got from secret"+t.User),A(a[0]),e.handleUser(a[0].isAdmin,a[0])}}))}),[]);var _=function(e){if(null===T)alert("Login to perform this action!");else{var t=e.target.name;console.log(e.target.name,e.target.checked.toString());var a=c.findIndex((function(t,a,n){return t.menu===e.target.name}));c[a].display=e.target.checked,l(c),x(Object(u.a)({},e.target.name,e.target.checked)),console.log(" after change",c),fetch("/menu/display/"+e.target.name,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(u.a)({},t,e.target.checked.toString()))}).then((function(e){e.json().then((function(e){console.log(e)}))}))}};return o.a.createElement("div",null,o.a.createElement(d.a,{position:"fixed",color:"default",elevation:0,className:e.isAdmin?t.appBar:t.smallAppBar},o.a.createElement(f.a,{className:t.toolbar},o.a.createElement(ae.a,{className:t.toolbarTitle},o.a.createElement(te,{isAdmin:e.isAdmin})),o.a.createElement("nav",null,c.map((function(a,n,r){var c;return a.display?o.a.createElement(g.a,(c={variant:"button",name:a.menu,color:"textPrimary","data-testid":"visible".concat(a.menu),className:t.link,onClick:function(t){return e.handleNavItemClick(t)}},Object(u.a)(c,"color",e.activeLink===a.menu?"secondary":"primary"),Object(u.a)(c,"key","visible".concat(a.menu)),c),a.menu):null}))),e.isAdmin?o.a.createElement("div",null,o.a.createElement(p.a,{"aria-haspopup":"true",color:"primary",variant:"outlined",onClick:function(e){v(e.currentTarget)},className:t.link},"change menu"),o.a.createElement(b.a,{id:"simple-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:function(){v(null)}},"  ",c.map((function(e,t,a){return o.a.createElement(y.a,{key:"menuDisplay".concat(e.menu).concat(t)},e.menu,o.a.createElement(j.a,{checked:N[e.menu]||e.display,onChange:_,color:"primary",name:e.menu,inputProps:{"aria-label":"primary checkbox"}}))})))):null,null===T?o.a.createElement(p.a,{href:"http://localhost:3000/login/auth/google","data-testid":"login",color:"primary",variant:"outlined",className:t.link,style:{float:"right"}},"login"):o.a.createElement(p.a,{"data-testid":"logout-details"},o.a.createElement(ne.a,{alt:"Profile Picture",src:T.image}),o.a.createElement(p.a,{href:"http://localhost:3000/login/logout","data-testid":"logout",color:"primary",variant:"outlined",className:t.link,style:{float:"right"}},"logout")))))},ce=a(726),ie=a(137),le=a(203),se=a.n(le);function me(){return o.a.createElement(A.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(g.a,{color:"inherit",href:"https://material-ui.com/"},"sandhyasankaran.com")," ",(new Date).getFullYear(),".")}var ue=Object(h.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},footer:Object(u.a)({borderTop:"1px solid",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800],marginTop:100,paddingTop:3,paddingBottom:3},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)}),link:{margin:e.spacing(1,1)},popover:{position:"absolute",zIndex:"2",top:500,right:10,bottom:"0px"}}})),de=function(e){var t=ue(),a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],l=r[1],d=Object(n.useState)(null),f=Object(i.a)(d,2),h=f[0],b=f[1],j=Object(n.useState)({}),E=Object(i.a)(j,2),k=E[0],v=E[1],O=Object(n.useState)({}),C=Object(i.a)(O,2),N=C[0],x=C[1],w=Object(n.useState)(null),_=Object(i.a)(w,2),P=_[0],L=_[1],B=Object(n.useState)("#e6e6e6"),W=Object(i.a)(B,2),M=W[0],U=W[1],D=Object(n.useState)(M),z=Object(i.a)(D,2),G=z[0],F=z[1],V=Object(n.useState)("black"),H=Object(i.a)(V,2),q=H[0],R=H[1],Y=Object(n.useState)(""),K=Object(i.a)(Y,2),X=(K[0],K[1]);function $(){return($=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/footer",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.footer);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/footer/color",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("data got in color",a),U(a.bgColor),F(a.bgColor),R(a.textColor);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){$.apply(this,arguments)}(),function(){Q.apply(this,arguments)}()}),[]);var Z=function(t){if(null===e.user)alert("Login to perform this action!");else{var a=t.target.name,n=c.findIndex((function(e,a,n){return e.footerName===t.target.name}));c[n].display=t.target.checked,l(c),v(Object(u.a)({},t.target.name,t.target.checked)),fetch("/footer/display/"+t.target.name,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(u.a)({},a,t.target.checked.toString()))}).then((function(e){e.json().then((function(e){}))}))}},ee=function(e){var t;x((t={},Object(u.a)(t,e.target.name,!0),Object(u.a)(t,"value",e.target.value),t))},te=function(e){var t;x((t={},Object(u.a)(t,e.target.name,!1),Object(u.a)(t,"value",e.target.value),t))};return o.a.createElement(J.a,{maxWidth:"xl",component:"footer",className:t.footer,style:{backgroundColor:M}},o.a.createElement(I.a,{container:!0,spacing:5,justify:"space-evenly"},c.map((function(e,t,a){return e.display?o.a.createElement(I.a,{item:!0,xs:3,sm:3,key:"grid".concat(e.footerName)},o.a.createElement(A.a,{variant:"h6",gutterBottom:!0,key:"title".concat(e.footerName),style:{color:q}},e.footerName.charAt(0).toUpperCase()+e.footerName.slice(1)),o.a.createElement("ul",{key:"ul".concat(e.footerName)},o.a.createElement("li",{key:"li".concat(e.footerName)},o.a.createElement(A.a,{color:"textSecondary",gutterBottom:!0,key:"value".concat(e.footerName),style:{color:"black"===q?"grey":q}},e.value)))):null})),e.isAdmin?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(p.a,{"aria-controls":"simple-menu","aria-haspopup":"true",color:"primary",variant:"outlined",onClick:function(e){b(e.currentTarget)},className:t.link},"change footer here!"),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(e){L(e.currentTarget)}},"choose background"),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):(R("black"===q?"white":"black"),fetch("/footer/textColor",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({textColor:"black"===q?"white":"black"})}).then((function(e){e.json().then((function(e){e.success&&R(e.textColor),X(e.message),alert(e.message)}))})))}},"change text color to white/black")),o.a.createElement(se.a,{id:"footer",anchorEl:h,open:Boolean(h),onClose:function(){b(null)},anchorReference:"anchorPosition",anchorPosition:{top:600,left:200},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"}},"  ",c.map((function(a,n,r){return o.a.createElement(y.a,{key:"footerName".concat(a.footerName).concat(n)},o.a.createElement(I.a,{container:!0,spacing:9},o.a.createElement(I.a,{item:!0,xs:2,sm:2,md:2},a.footerName),o.a.createElement(I.a,{item:!0,xs:1,sm:1,md:1},o.a.createElement(S.a,{checked:k[a.footerName]||a.display,onChange:Z,color:"primary",name:a.footerName,inputProps:{"aria-label":"primary checkbox"}})),o.a.createElement(I.a,{item:!0,xs:6,sm:6,md:6},N[a.footerName]?o.a.createElement("div",null,o.a.createElement(T.a,{margin:"normal",fullWidth:!0,name:a.footerName,value:N.value,id:"editValue",autoComplete:"message",onChange:ee}),o.a.createElement(g.a,{href:"#",color:"primary",className:t.link,onClick:function(){return function(t){if(null===e.user)alert("Login to perform this action!");else{var a=c.findIndex((function(e,a,n){return e.footerName===t.footerName}));c[a].value=N.value,l(c),fetch("/footer/value/"+t.footerName,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(u.a)({},t.footerName,N.value))}).then((function(e){e.json().then((function(e){var t;console.log(e),x((t={},Object(u.a)(t,e.footer.footerName,!1),Object(u.a)(t,"value",e.footer.value),t))}))}))}}(a)}},"save"),o.a.createElement(g.a,{href:"#",color:"primary",className:t.link,onClick:te},"cancel")):o.a.createElement("div",null,o.a.createElement(A.a,{component:"span",align:"left",gutterBottom:!0},a.value),o.a.createElement(g.a,{href:"#",color:"primary",className:t.link,onClick:function(){return function(e){var t;x((t={},Object(u.a)(t,e.footerName,!0),Object(u.a)(t,"value",e.value),t))}(a)}},"edit value")))))}))),o.a.createElement(se.a,{id:"backgorundColor",anchorEl:P,open:Boolean(P),onClose:function(){U(G),L(null)},anchorReference:"anchorPosition",anchorPosition:{top:950,left:600}},o.a.createElement(ie.SketchPicker,{className:t.sketch,color:M,onChangeComplete:function(e){U(e.hex)}}),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/footer/bgColor",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({bgColor:M})}).then((function(e){e.json().then((function(e){e.success&&U(e.bgColor),L(null)}))}))}},"save"))):null),o.a.createElement(ce.a,{mt:5},o.a.createElement(me,null)))},pe=a(717),fe=a(139),ge=a.n(fe),he=a(95),be=a.n(he),ye=a(138),je=a.n(ye),Ee=Object(h.a)((function(e){return{heroContent:Object(u.a)({width:"100%",padding:e.spacing(8,0,6),marginTop:95},e.breakpoints.down("sm"),{marginTop:200,fontSize:"20%"}),large:Object(u.a)({width:e.spacing(10),height:e.spacing(10),color:e.palette.getContrastText(pe.a[500]),backgroundColor:"purple"},e.breakpoints.down("sm"),{width:e.spacing(5),height:e.spacing(5)}),noAdminBanner:Object(u.a)({width:"100%",padding:e.spacing(8,0,6),marginTop:70},e.breakpoints.down("sm"),{marginTop:200,fontSize:"20%"}),form:{width:"75%",marginTop:e.spacing(1),marginLeft:e.spacing(5)},link:Object(u.a)({margin:e.spacing(1,1)},e.breakpoints.down("sm"),{fontSize:"7px"}),sketch:{marginLeft:25},text:Object(u.a)({},e.breakpoints.down("sm"),{fontSize:"small"}),title:Object(u.a)({},e.breakpoints.down("sm"),{fontSize:"large"}),formControl:{margin:e.spacing(3),minWidth:120,"& .MuiTextField-root":{margin:e.spacing(1)}}}})),ke=function(e){var t=Ee(),a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],l=r[1],u=Object(n.useState)(c),d=Object(i.a)(u,2),f=d[0],g=d[1],h=Object(n.useState)(!1),b=Object(i.a)(h,2),y=b[0],j=b[1],E=Object(n.useState)(null),k=Object(i.a)(E,2),v=(k[0],k[1]),O=Object(n.useState)(!1),C=Object(i.a)(O,2),N=C[0],x=C[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),_=w[0],P=w[1],L=Object(n.useState)("#e6e6e6"),B=Object(i.a)(L,2),W=B[0],M=B[1],U=Object(n.useState)(W),D=Object(i.a)(U,2),z=D[0],G=D[1],F=Object(n.useState)("black"),V=Object(i.a)(F,2),H=V[0],q=V[1],R=Object(n.useState)(""),Y=Object(i.a)(R,2),K=Y[0],X=Y[1];function $(){return($=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/banner",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.tagLine),g(a.tagLine),x(a.image),M(a.bgColor),G(a.bgColor),q(a.textColor);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){$.apply(this,arguments)}()}),[]);var Q=function(t){null===e.user?alert("Login to perform this action!"):fetch("/banner/image",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({image:t})}).then((function(e){e.json().then((function(e){console.log(e),x(e.image),X("false"===t?"Image changed to default pic":"Image changed!")}))}))};return o.a.createElement(J.a,{maxWidth:"xl",className:e.isAdmin?t.heroContent:t.noAdminBanner,style:{backgroundColor:W}},o.a.createElement(I.a,{container:!0,spacing:4},o.a.createElement(I.a,{item:!0,xs:7,sm:7,md:9},o.a.createElement(A.a,{component:"h1",variant:"h2",align:"center",gutterBottom:!0,style:{color:H},className:t.title},"home"===e.title?"Sandhya Sankaran":e.title.charAt(0).toUpperCase()+e.title.slice(1)),o.a.createElement("div",null,o.a.createElement(A.a,{variant:"h5",align:"center",paragraph:!0,className:t.text,style:{color:"black"===H?"grey":H,marginLeft:25}},c),e.isAdmin?o.a.createElement("div",null,_?o.a.createElement("div",null,o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){M(z),P(!_)}},"cancel"),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/banner/bgColor",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({bgColor:W})}).then((function(e){e.json().then((function(e){M(e.bgColor),P(!1)}))}))}},"save")):o.a.createElement("div",null,o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){j(!0)}},"edit data and image"),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){P(!_)}},"choose background"),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):(q("black"===H?"white":"black"),fetch("/banner/textColor",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({textColor:"black"===H?"white":"black"})}).then((function(e){e.json().then((function(e){q(e.textColor)}))})))}},"Change text color to white/black"))):null),_?o.a.createElement(ie.SketchPicker,{className:t.sketch,color:W,onChangeComplete:function(e){M(e.hex)}}):null),o.a.createElement(I.a,{item:!0,xs:5,sm:5,md:3},N?o.a.createElement(ne.a,{alt:"SS",className:t.large,src:"http://localhost:3000/static/media/bannerImage.jpg"}):o.a.createElement(ne.a,{alt:"SS",className:t.large},"Sandhya Sankaran".split(" ")[0][0].toUpperCase()+"Sandhya Sankaran".split(" ")[1][0].toUpperCase()),e.isAdmin?o.a.createElement(je.a,{open:y,onClose:function(){l(f),j(!1)}},o.a.createElement(ge.a,{id:"simple-dialog-title"},"Edit Banner details"),o.a.createElement("div",null,o.a.createElement("form",{className:t.formControl,noValidate:!0,autoComplete:"off"},o.a.createElement("div",null,o.a.createElement(T.a,{margin:"normal",fullWidth:!0,name:"tagLine",value:c,id:"tagLine",autoComplete:"message",multiline:!0,rows:2,rowsMax:4,onChange:function(e){l(e.target.value)}}),o.a.createElement(be.a,{style:{paddingTop:5}},"Choose image for banner"),o.a.createElement("input",{type:"file",accept:"image/*",name:"imageFile",className:t.link,onChange:function(t){if(null===e.user)alert("Login to perform this action!");else{v(t.target.files[0]);var a=new FormData;a.append("myImage",t.target.files[0]),fetch("/banner/upload",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){e.success?Q("true"):alert(e.message)}))}}}),N?o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){return Q("false")}},"use default image"):null),o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/banner",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({tagLine:c})}).then((function(e){e.json().then((function(e){e.success&&l(e.tagLine),X(e.message)}))}))},disabled:c.length<1||c===f},"save")),o.a.createElement(A.a,{align:"center",gutterBottom:!0,color:"secondary"},K))):null)))},ve=a(721),Oe=Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},text:Object(u.a)({},e.breakpoints.down("sm"),{fontSize:"medium"}),title:Object(u.a)({},e.breakpoints.down("sm"),{fontSize:"large",fontWeight:"bold"})}})),Ce=function(e){var t=Oe(),a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],l=r[1],u=Object(n.useState)(c),d=Object(i.a)(u,2),f=d[0],g=d[1],h=Object(n.useState)(!1),b=Object(i.a)(h,2),y=b[0],j=b[1];function E(){return(E=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/home",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("data got in home",a),l(a.aboutMe),g(a.aboutMe);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]);return o.a.createElement("div",null,o.a.createElement(A.a,{variant:"h2",component:"h1",gutterBottom:!0,className:t.title},"About Me"),y?o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(T.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"aboutMe",value:c,id:"tagLine",autoComplete:"message",multiline:!0,rows:2,rowsMax:4,onChange:function(e){l(e.target.value)}})):o.a.createElement(A.a,{variant:"h5",component:"h2",gutterBottom:!0,className:t.text},c),e.isAdmin?y?o.a.createElement("div",null,o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){l(f),j(!1)}},"cancel"),o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?alert("Login to perform this action!"):fetch("/home",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({aboutMe:c})}).then((function(e){e.json().then((function(e){j(!1)}))}))}},"save")):o.a.createElement(p.a,{href:"#",color:"primary",variant:"outlined",className:t.link,onClick:function(){j(!0)}},"edit about me"):null)},Ne=a(297),xe=a.n(Ne),Se=a(298),we=a.n(Se),Te=a(719),Ae=a(194),Ie=a(204),_e=a.n(Ie),Pe=a(295),Le=a.n(Pe),Be=a(296),We=a.n(Be),Je=a(294),Me=a.n(Je),Ue=a(718),De=a(299),ze=a.n(De),Ge=Object(h.a)((function(e){return{cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%",height:200},cardContent:{flexGrow:1},flexContainer:{display:"flex",flexDirection:"row",padding:0},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5),"& .MuiListItem-button":{margin:e.spacing(1,1.5)}},appBar:{margin:e.spacing(0,0,3,0),flexWrap:"wrap"},formControl:{margin:e.spacing(3),minWidth:120,"& .MuiTextField-root":{margin:e.spacing(1)}},comment:{backgroundColor:"#e6e6e6",padding:e.spacing(2,2,2,2),border:"1px solid #ced4da",borderRadius:e.spacing(1),width:"100%",overflow:"auto",overflowX:"auto",overflowY:"auto"}}})),Fe=function(e){var t=Ge(),r=Object(n.useState)([]),c=Object(i.a)(r,2),l=c[0],d=c[1],g=Object(n.useState)(!1),h=Object(i.a)(g,2),b=h[0],y=h[1],j=Object(n.useState)("add"),v=Object(i.a)(j,2),O=v[0],C=v[1],N=Object(n.useState)({_id:null,topic:"",content:"",comments:[],likes:[]}),x=Object(i.a)(N,2),S=x[0],w=x[1],P=Object(n.useState)(""),L=Object(i.a)(P,2),M=L[0],U=L[1],D=Object(n.useState)(null),z=Object(i.a)(D,2),G=z[0],F=z[1],V=Object(n.useState)(!1),H=Object(i.a)(V,2),q=H[0],R=H[1],Y=Object(n.useState)(""),X=Object(i.a)(Y,2),$=X[0],Q=X[1];function Z(){return(Z=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/blog",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("data got in blog",a),d(a.blog);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){Z.apply(this,arguments)}()}),[]);var ee=function(e,t){"add"===e?C("add"):"edit"===e?(C("edit"),w({_id:t._id,topic:t.topic,content:t.content,comments:t.comments,likes:t.likes})):"delete"===e&&(C("delete"),w({_id:t._id})),y(!0)},te=function(){d(l),y(!1),w({topic:"",content:"",_id:null}),F(null),U("")},ae=function(e){var t=new FormData;t.append("blogImage",G),fetch("/blog/upload/"+e,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){t.success?oe(e,"true"):alert(t.message)}))},oe=function(e,t){fetch("/blog/image/"+e,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({image:t})}).then((function(a){a.json().then((function(a){var n=l.findIndex((function(t,a,n){return t._id===e}));l[n].image=a.image,"false"===t&&U("Image changed to default pic")}))}))},re=function(e){console.log("blogDetails: ",e),R(!q),null!==e&&w({_id:e._id,topic:e.topic,content:e.content,comments:e.comments,likes:e.likes})},ce=function(t){if(null===e.user)U("Login to like");else{var a=null;void 0===(a=null==t?S:t).likes.find((function(t,a,n){return t===e.user.googleId}))?fetch("/blog/like/".concat(a._id),{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({profileId:e.user.googleId})}).then((function(e){return e.json()})).then((function(t){if(t.success){console.log("in post like: ",t);var n=l.findIndex((function(e,t,n){return e._id===a._id})),o=t.blog;l[n]=o,a.likes.push(e.user.googleId)}U(t.message)})):fetch("/blog/like/".concat(a._id),{method:"DELETE",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({profileId:e.user.googleId})}).then((function(e){return e.json()})).then((function(t){if(t.success){console.log("in delete like: ",t);var n=l.findIndex((function(e,t,n){return e._id===a._id})),o=t.deletedLikes;l[n]=o;var r=a.likes.filter((function(t,a,n){return t!==e.user.googleId}));console.log("cc",r),a.likes=r}U(t.message)}))}};return o.a.createElement(J.a,{className:t.cardGrid,maxWidth:"md"},q?o.a.createElement("div",null,o.a.createElement(p.a,{"aria-haspopup":"true",color:"primary",variant:"outlined",className:t.link,onClick:function(){return re(null)}},"back"),o.a.createElement(A.a,{variant:"h4",component:"h2",align:"center"},S.topic),o.a.createElement(Me.a,{source:S.content}),o.a.createElement("div",{className:"commentDiv"},o.a.createElement(f.a,null,o.a.createElement(A.a,{variant:"body2",variantMapping:{body2:"span"}},o.a.createElement("strong",null,"".concat(S.comments.length," Comments "))),o.a.createElement("div",{style:{marginLeft:"auto"}},S.likes.length,o.a.createElement(Ae.a,{onClick:function(){return ce(null)},color:S.likes.includes(e.user.googleId)?"primary":"default"},o.a.createElement(_e.a,null)))),o.a.createElement(E.a,{className:t.list},S.comments.map((function(a,n,r){return o.a.createElement(k.a,{key:"commentList".concat(a.profileId).concat(n)},o.a.createElement(Ue.a,null,o.a.createElement(ne.a,{variant:"rounded",alt:"Profile Picture",src:a.image})),o.a.createElement("div",{className:t.comment},o.a.createElement(A.a,{style:{display:"flex",justifyContent:"space-between",fontSize:"small"},color:"textSecondary"},a.name,o.a.createElement("span",null,new Date(a.date).toLocaleString())),o.a.createElement(A.a,{key:"comment".concat(a.profileId).concat(n),variant:"body1",color:"textPrimary"},a.comment)),e.isAdmin?o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){return t=a._id,n=a.profileId,void(window.confirm("Are you sure?")&&(null===e.user?alert("Login to comment"):fetch("/comments/".concat(S._id),{method:"DELETE",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({id:t,profileId:n})}).then((function(e){return e.json()})).then((function(e){if(e.success){console.log("in post comments: ",e);var t=l.findIndex((function(e,t,a){return e._id===S._id})),a=e.blog;l[t]=a,S.comments.splice(1)}U(e.message)}))));var t,n}},"delete"):null)})),o.a.createElement(k.a,null,o.a.createElement(Ue.a,null,o.a.createElement(ne.a,{alt:"Profile Picture"},"..")),o.a.createElement(T.a,{className:"comment",label:"Comment",multiline:!0,rows:2,column:14,rowsMax:4,variant:"outlined",onChange:function(e){Q(e.target.value)},name:"comment",value:$,fullWidth:!0})),o.a.createElement(k.a,null,o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){null===e.user?U("Login to comment"):fetch("/blog/comment/".concat(S._id),{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({profileId:e.user.googleId,name:e.user.displayName,image:e.user.image,comment:$})}).then((function(e){return e.json()})).then((function(e){if(e.success){console.log("in post comments: ",e);var t=l.findIndex((function(e,t,a){return e._id===S._id})),a=e.blog;l[t]=a,S.comments.push(a.comments[a.comments.length-1]),Q("")}U(e.message)}))}},"add comment"))))):o.a.createElement("div",null,e.isAdmin?o.a.createElement(p.a,{"aria-haspopup":"true",color:"primary",variant:"outlined",className:t.link,onClick:function(){return ee("add")}},"add a new blog content"):null,o.a.createElement(je.a,{open:b,onClose:te},o.a.createElement(ge.a,{id:"simple-dialog-title"},"add"===O?"Add a new blog post":"edit"===O?"Change blog details":"Delete blog"),"delete"===O?o.a.createElement("div",null,o.a.createElement(Le.a,null,o.a.createElement(K.a,{id:"alert-dialog-description"},"Are you sure you want to delete this blog?")),o.a.createElement(We.a,null,o.a.createElement(p.a,{onClick:te,color:"primary"},"No"),o.a.createElement(p.a,{onClick:function(){null===e.user?alert("Login to perform this action!"):(fetch("/blog/"+S._id,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){e.json().then((function(e){if(e.success){console.log("category deleted:",e);var t=l.findIndex((function(t,a,n){return t._id===e.deletedBlog._id}));console.log("index:",t),l.splice(t,1)}}))})),te())},color:"primary",autoFocus:!0},"Yes"))):"add"===O||"edit"===O?o.a.createElement("div",null,o.a.createElement("form",{className:t.formControl,noValidate:!0,autoComplete:"off"},o.a.createElement("div",null,o.a.createElement(T.a,{id:"standard-required",label:"Topic",name:"topic",value:S.topic,onChange:function(e){w(Object(_.a)(Object(_.a)({},S),{},Object(u.a)({},e.target.name,e.target.value)))}}),o.a.createElement(be.a,{id:"demo-mutiple-checkbox-label"},"Choose markdown for content"),o.a.createElement("input",{type:"file",accept:".md",name:"content",className:t.link,onChange:function(e){var t=new FileReader,a=e.target.files[0];0!==e.target.value.length?(t.onloadend=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(Object(_.a)(Object(_.a)({},S),{},{content:t.target.result})),console.log("this.state.content: ",S.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.readAsText(a)):w(Object(_.a)(Object(_.a)({},S),{},{content:S.content}))}}),o.a.createElement(be.a,{style:{paddingTop:5}},"Choose image for thumbnail"),o.a.createElement("input",{type:"file",accept:"image/*",name:"imageFile",className:t.link,onChange:function(e){F(e.target.files[0])}}),"edit"===O?o.a.createElement(p.a,{color:"primary",onClick:function(){return oe(S._id,"false")}},"Upload the default image"):null),o.a.createElement(p.a,{color:"primary",variant:"outlined",className:t.link,onClick:function(){return t=O,void(null===e.user?alert("Login to perform this action!"):"add"===t?fetch("/blog",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({topic:S.topic,content:S.content})}).then((function(e){e.json().then((function(e){console.log("create blog",e),e.success&&(null!==G&&ae(e.blog._id),l.push(e.blog)),U(e.message),w({topic:"",content:"",comments:[],likes:[]})}))})):"edit"===t&&fetch("/blog/"+S._id,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({topic:S.topic,content:S.content})}).then((function(e){e.json().then((function(e){if(e.success){console.log("in put: ",e),null!==G&&ae(S._id);var t=l.findIndex((function(e,t,a){return e._id===S._id}));l[t]=e.blog}U(e.message),w({topic:"",content:""})}))})));var t},disabled:S.topic.length<1},"save this blog")),o.a.createElement(A.a,{align:"center",gutterBottom:!0,color:"secondary"},M)):null),o.a.createElement(I.a,{container:!0,spacing:4},l.map((function(n,r,c){return o.a.createElement(I.a,{item:!0,key:"grid".concat(n.topic).concat(r),xs:12,sm:6,md:4},o.a.createElement(xe.a,{className:t.card,key:"card".concat(n.topic).concat(r)},o.a.createElement(Te.a,{key:"cardHeader".concat(n.topic).concat(r),title:n.topic,subheader:new Date(n.updatedAt).toLocaleDateString(),action:e.isAdmin?o.a.createElement("div",null,o.a.createElement(p.a,{size:"small",color:"primary",onClick:function(){return ee("edit",n)}},"edit"),o.a.createElement(p.a,{size:"small",color:"primary",onClick:function(){return ee("delete",n)}},"delete")):null}),o.a.createElement(W.a,{key:"cardMedia".concat(n.topic).concat(r),className:t.cardMedia,image:n.image?"http://localhost:3000/static/media/blog".concat(n._id,".jpg"):a(225),title:"Image title"}),o.a.createElement(B.a,{className:t.cardContent},void 0!==n.content?o.a.createElement(A.a,null,n.content.slice(0,25)):null),o.a.createElement(we.a,null,o.a.createElement(p.a,{size:"large",color:"primary",onClick:function(){return re(n)}},"view"),"".concat(n.comments.length," comments  "),o.a.createElement(ze.a,{color:"secondary",size:"large"}),n.likes.length,o.a.createElement(_e.a,{onClick:function(){return ce(n)},color:n.likes.includes(e.user.googleId)?"primary":"inherit"}))))})))))},Ve=a(720),He=a(300),qe=a.n(He),Re=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ye=function(e){var t=Re(),a=Object(n.useState)(!1),r=Object(i.a)(a,2),c=r[0],l=r[1],s=Object(n.useState)({fromEmail:"",content:"",website:"",name:""}),m=Object(i.a)(s,2),d=m[0],f=m[1],g=Object(n.useState)(""),h=Object(i.a)(g,2),b=h[0],y=h[1],j=function(){l(!1),f({fromEmail:"",content:"",website:"",name:""})},E=function(e){f(Object(_.a)(Object(_.a)({},d),{},Object(u.a)({},e.target.name,e.target.value)))};return o.a.createElement(J.a,{component:"main",maxWidth:"xs"},o.a.createElement("div",{className:t.paper},o.a.createElement(U.a,{open:c,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(D.a,{id:"alert-dialog-title"},"Email Confirmation"),o.a.createElement(X.a,null,o.a.createElement(K.a,{id:"alert-dialog-description"},b)),o.a.createElement($.a,null,o.a.createElement(p.a,{onClick:j,color:"primary"},"OK"))),o.a.createElement(ne.a,{className:t.avatar},o.a.createElement(qe.a,null)),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:d.name,onChange:E}),o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",required:!0,error:d.fromEmail.length<1,fullWidth:!0,id:"email",label:"Email Address",name:"fromEmail",autoComplete:"email",value:d.fromEmail,onChange:E}),o.a.createElement(Ve.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"website",label:"Website",id:"website",autoComplete:"website",value:d.website,onChange:E}),o.a.createElement(Ve.a,{variant:"outlined",required:!0,margin:"normal",fullWidth:!0,name:"content",label:"Message",id:"message",autoComplete:"message",multiline:!0,rows:2,rowsMax:4,value:d.content,onChange:E}),o.a.createElement(p.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){fetch("/contact",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({message:d})}).then((function(e){e.json().then((function(e){console.log(e),e.success&&(y(e.message),l(!0))}))}))},disabled:d.fromEmail.length<1},"Send"))))},Ke=Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"}}})),Xe=function(){var e=Ke(),t=Object(n.useState)("Sandhya Sankaran"),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(null),p=Object(i.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)("home"),b=Object(i.a)(h,2),y=b[0],j=b[1],E=Object(n.useCallback)((function(e){console.log("menu clicked",e.target.name),c(e.target.name),j(e.target.name)}),[]),k=Object(n.useCallback)((function(e,t){u(e),g(t)}),[]);return o.a.createElement("div",null,o.a.createElement(ve.a,null),o.a.createElement(re,{handleNavItemClick:E,isAdmin:m,activeLink:y,user:f,handleUser:k}),o.a.createElement("div",{className:e.root},o.a.createElement(ke,{title:r,isAdmin:m,user:f}),o.a.createElement(J.a,{component:"main",className:e.main,maxWidth:"md"},"home"===r||"Sandhya Sankaran"===r?o.a.createElement(Ce,{isAdmin:m,user:f}):"work"===r?o.a.createElement(Z,{isAdmin:m,user:f}):"contact"===r?o.a.createElement(Ye,{isAdmin:m}):o.a.createElement(Fe,{isAdmin:m,user:f}))),o.a.createElement(de,{isAdmin:m,user:f}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[316,1,2]]]);
//# sourceMappingURL=main.2e2ed31b.chunk.js.map